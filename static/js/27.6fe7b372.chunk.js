(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[27],{1041:function(e,n,t){"use strict";var a,o=t(4),c=t(6),r=t(0),i=t(828),u=t(7),l=t.n(u),s=t(280),d=t(169),f=t(292),m=t(307),p=t(188),b=t(89),h=t(321),C=t(283),v=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]])}return t};Object(h.a)()&&document.documentElement.addEventListener("click",(function(e){a={x:e.pageX,y:e.pageY},setTimeout((function(){a=null}),100)}),!0);var g=function(e){var n,t=r.useContext(b.b),u=t.getPopupContainer,h=t.getPrefixCls,g=t.direction,O=function(n){var t=e.onCancel;null===t||void 0===t||t(n)},I=function(n){var t=e.onOk;null===t||void 0===t||t(n)},j=function(n){var t=e.okText,a=e.okType,o=e.cancelText,i=e.confirmLoading;return r.createElement(r.Fragment,null,r.createElement(f.a,Object(c.a)({onClick:O},e.cancelButtonProps),o||n.cancelText),r.createElement(f.a,Object(c.a)({},Object(m.a)(a),{loading:i,onClick:I},e.okButtonProps),t||n.okText))},y=e.prefixCls,T=e.footer,N=e.visible,k=e.wrapClassName,E=e.centered,x=e.getContainer,D=e.closeIcon,P=e.focusTriggerAfterClose,M=void 0===P||P,S=v(e,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),R=h("modal",y),_=h(),A=r.createElement(p.a,{componentName:"Modal",defaultLocale:Object(d.b)()},j),w=r.createElement("span",{className:"".concat(R,"-close-x")},D||r.createElement(s.a,{className:"".concat(R,"-close-icon")})),V=l()(k,(n={},Object(o.a)(n,"".concat(R,"-centered"),!!E),Object(o.a)(n,"".concat(R,"-wrap-rtl"),"rtl"===g),n));return r.createElement(i.a,Object(c.a)({},S,{getContainer:void 0===x?u:x,prefixCls:R,wrapClassName:V,footer:void 0===T?A:T,visible:N,mousePosition:a,onClose:O,closeIcon:w,focusTriggerAfterClose:M,transitionName:Object(C.c)(_,"zoom",e.transitionName),maskTransitionName:Object(C.c)(_,"fade",e.maskTransitionName)}))};g.defaultProps={width:520,confirmLoading:!1,visible:!1,okType:"primary"};var O=g,I=t(56),j=t(297),y=t(296),T=t(298),N=t(299),k=t(822),E=t(85),x=t(37),D=function(e){var n=e.icon,t=e.onCancel,a=e.onOk,c=e.close,i=e.zIndex,u=e.afterClose,s=e.visible,d=e.keyboard,f=e.centered,m=e.getContainer,p=e.maskStyle,b=e.okText,h=e.okButtonProps,v=e.cancelText,g=e.cancelButtonProps,I=e.direction,j=e.prefixCls,y=e.wrapClassName,T=e.rootPrefixCls,N=e.iconPrefixCls,D=e.bodyStyle,P=e.closable,M=void 0!==P&&P,S=e.closeIcon,R=e.modalRender,_=e.focusTriggerAfterClose;Object(E.a)(!("string"===typeof n&&n.length>2),"Modal","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(n,"` at https://ant.design/components/icon"));var A=e.okType||"primary",w="".concat(j,"-confirm"),V=!("okCancel"in e)||e.okCancel,L=e.width||416,F=e.style||{},B=void 0===e.mask||e.mask,H=void 0!==e.maskClosable&&e.maskClosable,U=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),K=l()(w,"".concat(w,"-").concat(e.type),Object(o.a)({},"".concat(w,"-rtl"),"rtl"===I),e.className),X=V&&r.createElement(k.a,{actionFn:t,close:c,autoFocus:"cancel"===U,buttonProps:g,prefixCls:"".concat(T,"-btn")},v);return r.createElement(x.a,{prefixCls:T,iconPrefixCls:N,direction:I},r.createElement(O,{prefixCls:j,className:K,wrapClassName:l()(Object(o.a)({},"".concat(w,"-centered"),!!e.centered),y),onCancel:function(){return c({triggerCancel:!0})},visible:s,title:"",footer:"",transitionName:Object(C.c)(T,"zoom",e.transitionName),maskTransitionName:Object(C.c)(T,"fade",e.maskTransitionName),mask:B,maskClosable:H,maskStyle:p,style:F,bodyStyle:D,width:L,zIndex:i,afterClose:u,keyboard:d,centered:f,getContainer:m,closable:M,closeIcon:S,modalRender:R,focusTriggerAfterClose:_},r.createElement("div",{className:"".concat(w,"-body-wrapper")},r.createElement("div",{className:"".concat(w,"-body")},n,void 0===e.title?null:r.createElement("span",{className:"".concat(w,"-title")},e.title),r.createElement("div",{className:"".concat(w,"-content")},e.content)),r.createElement("div",{className:"".concat(w,"-btns")},X,r.createElement(k.a,{type:A,actionFn:a,close:c,autoFocus:"ok"===U,buttonProps:h,prefixCls:"".concat(T,"-btn")},b)))))},P=[],M=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]])}return t},S="";function R(e){var n=document.createDocumentFragment(),t=Object(c.a)(Object(c.a)({},e),{close:i,visible:!0});function a(){I.unmountComponentAtNode(n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];var c=a.some((function(e){return e&&e.triggerCancel}));e.onCancel&&c&&e.onCancel.apply(e,a);for(var r=0;r<P.length;r++){var u=P[r];if(u===i){P.splice(r,1);break}}}function o(e){var t=e.okText,a=e.cancelText,o=e.prefixCls,i=M(e,["okText","cancelText","prefixCls"]);setTimeout((function(){var e=Object(d.b)(),u=Object(x.b)(),l=u.getPrefixCls,s=u.getIconPrefixCls,f=l(void 0,S),m=o||"".concat(f,"-modal"),p=s();I.render(r.createElement(D,Object(c.a)({},i,{prefixCls:m,rootPrefixCls:f,iconPrefixCls:p,okText:t||(i.okCancel?e.okText:e.justOkText),cancelText:a||e.cancelText})),n)}))}function i(){for(var n=this,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];o(t=Object(c.a)(Object(c.a)({},t),{visible:!1,afterClose:function(){"function"===typeof e.afterClose&&e.afterClose(),a.apply(n,i)}}))}return o(t),P.push(i),{destroy:i,update:function(e){o(t="function"===typeof e?e(t):Object(c.a)(Object(c.a)({},t),e))}}}function _(e){return Object(c.a)(Object(c.a)({icon:r.createElement(N.a,null),okCancel:!1},e),{type:"warning"})}function A(e){return Object(c.a)(Object(c.a)({icon:r.createElement(j.a,null),okCancel:!1},e),{type:"info"})}function w(e){return Object(c.a)(Object(c.a)({icon:r.createElement(y.a,null),okCancel:!1},e),{type:"success"})}function V(e){return Object(c.a)(Object(c.a)({icon:r.createElement(T.a,null),okCancel:!1},e),{type:"error"})}function L(e){return Object(c.a)(Object(c.a)({icon:r.createElement(N.a,null),okCancel:!0},e),{type:"confirm"})}var F=t(15),B=t(10);var H=t(120),U=function(e,n){var t=e.afterClose,a=e.config,o=r.useState(!0),i=Object(B.a)(o,2),u=i[0],l=i[1],s=r.useState(a),d=Object(B.a)(s,2),f=d[0],m=d[1],h=r.useContext(b.b),C=h.direction,v=h.getPrefixCls,g=v("modal"),O=v(),I=function(){l(!1);for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var a=n.some((function(e){return e&&e.triggerCancel}));f.onCancel&&a&&f.onCancel()};return r.useImperativeHandle(n,(function(){return{destroy:I,update:function(e){m((function(n){return Object(c.a)(Object(c.a)({},n),e)}))}}})),r.createElement(p.a,{componentName:"Modal",defaultLocale:H.a.Modal},(function(e){return r.createElement(D,Object(c.a)({prefixCls:g,rootPrefixCls:O},f,{close:I,visible:u,afterClose:t,okText:f.okText||(f.okCancel?e.okText:e.justOkText),direction:C,cancelText:f.cancelText||e.cancelText}))}))},K=r.forwardRef(U),X=0,G=r.memo(r.forwardRef((function(e,n){var t=function(){var e=r.useState([]),n=Object(B.a)(e,2),t=n[0],a=n[1];return[t,r.useCallback((function(e){return a((function(n){return[].concat(Object(F.a)(n),[e])})),function(){a((function(n){return n.filter((function(n){return n!==e}))}))}}),[])]}(),a=Object(B.a)(t,2),o=a[0],c=a[1];return r.useImperativeHandle(n,(function(){return{patchElement:c}}),[]),r.createElement(r.Fragment,null,o)})));function Y(e){return R(_(e))}var z=O;z.useModal=function(){var e=r.useRef(null),n=r.useState([]),t=Object(B.a)(n,2),a=t[0],o=t[1];r.useEffect((function(){a.length&&(Object(F.a)(a).forEach((function(e){e()})),o([]))}),[a]);var c=r.useCallback((function(n){return function(t){var a;X+=1;var c,i=r.createRef(),u=r.createElement(K,{key:"modal-".concat(X),config:n(t),ref:i,afterClose:function(){c()}});return c=null===(a=e.current)||void 0===a?void 0:a.patchElement(u),{destroy:function(){function e(){var e;null===(e=i.current)||void 0===e||e.destroy()}i.current?e():o((function(n){return[].concat(Object(F.a)(n),[e])}))},update:function(e){function n(){var n;null===(n=i.current)||void 0===n||n.update(e)}i.current?n():o((function(e){return[].concat(Object(F.a)(e),[n])}))}}}}),[]);return[r.useMemo((function(){return{info:c(A),success:c(w),error:c(V),warning:c(_),confirm:c(L)}}),[]),r.createElement(G,{ref:e})]},z.info=function(e){return R(A(e))},z.success=function(e){return R(w(e))},z.error=function(e){return R(V(e))},z.warning=Y,z.warn=Y,z.confirm=function(e){return R(L(e))},z.destroyAll=function(){for(;P.length;){var e=P.pop();e&&e()}},z.config=function(e){var n=e.rootPrefixCls;Object(E.a)(!1,"Modal","Modal.config is deprecated. Please use ConfigProvider.config instead."),S=n};n.a=z},1079:function(e,n,t){"use strict";t.r(n);var a=t(9),o=t(3),c=t(36),r=(t(715),t(0)),i=t.n(r),u=t(47),l=t(1041),s=t(926),d=t(39),f=t(806),m=t(12),p="M\xf3n m\u1eb7n",b="M\xf3n m\u1eb7n ph\u1ee5",h="M\xf3n n\u01b0\u1edbc chay",C={monMan:{id:"monMan",name:"M\xf3n m\u1eb7n",kinds:[p,b]},monManPhu:{id:"monManPhu",name:"M\xf3n m\u1eb7n ph\u1ee5",kinds:[p,b]},monCanh:{id:"monCanh",name:"M\xf3n canh",kinds:["M\xf3n canh"]},monXao:{id:"monXao",name:"M\xf3n x\xe0o",kinds:["M\xf3n x\xe0o"]},monNuocVaCaiThien:{id:"monNuocVaCaiThien",name:"M\xf3n n\u01b0\u1edbc v\xe0 c\u1ea3i thi\u1ec7n",kinds:["M\xf3n c\u1ea3i thi\u1ec7n","M\xf3n n\u01b0\u1edbc",h]},monChay:{id:"monChay",name:"M\xf3n chay",kinds:["M\xf3n chay",h]},monTrangMieng:{id:"monTrangMieng",name:"M\xf3n tr\xe1ng mi\u1ec7ng",kinds:["Tr\xe1ng mi\u1ec7ng"]}},v=[C.monMan,C.monManPhu,C.monCanh,C.monXao,C.monNuocVaCaiThien,C.monChay,C.monTrangMieng],g=t(702),O=t(289),I=t(301),j=t(233),y=t(305),T=function(e){var n=e.history,t=e.location,r=e.style,u=e.classNames,p=Object(g.a)(),b=Object(g.b)((function(e){return e.thucDonDuTruSetting})),h=b.recipeKinds,C=b.nhomGiaMonAnData,T=Object(g.b)((function(e){return e.nguyenLieu})).nguyenLieus,N=Object(g.b)((function(e){return e.recipe})),k=N.recipesArray,E=N.ingreRecipeData,x=Object(g.b)((function(e){return e.diaDiem})),D=x.diaDiemData,P=x.yearId,M=x.weekId,S=Object(g.b)((function(e){return e.congTy})).shiftCanSoSanhVoiShift,R=null===D||void 0===D?void 0:D.id,_=(null===C||void 0===C?void 0:C.giaPhanAn)||0,A=Object(I.c)(t,f.b.MODAL_ID),w=Object(I.c)(t,f.b.SHIFT_ID),V=Object(I.c)(t,f.b.KIND_ID),L=Object(I.c)(t,f.b.DAY_ID),F=Object(I.c)(t,f.b.RECIPE_ID),B=i.a.useRef(null),H=i.a.useState([]),U=Object(c.a)(H,2),K=U[0],X=U[1],G=i.a.useState([]),Y=Object(c.a)(G,2),z=Y[0],W=Y[1],J=i.a.useMemo((function(){return A===f.a.selectRecipe.id}),[A]);i.a.useEffect((function(){var e,n=null===h||void 0===h||null===(e=h[V])||void 0===e?void 0:e.recipeKindMap,t=[];if(n){var c=v.find((function(e){return e.id===n}))||{};t=(null===c||void 0===c?void 0:c.kinds)||[],W(t.join(", "))}var r=Object(d.groupBy)(k,"categoryRecipe"),i=t.reduce((function(e,n){var t=r[n]||[];return t=t.map((function(e){var n=e.id,t=(null===E||void 0===E?void 0:E[n])||[];return Object(o.a)(Object(o.a)({},e),{},{nguyenLieus:t})})),[].concat(Object(a.a)(e),Object(a.a)(t))}),[]);X(i)}),[k,h,V,E]);var q=function(){var e=p(Object(j.b)(L,w,V)),t=e.nextRecipeKindId,a=e.nextRecipeId;if(t){var o=[[f.b.MODAL_ID,f.a.selectRecipe.id],[f.b.SHIFT_ID,w],[f.b.KIND_ID,t],[f.b.DAY_ID,L],[f.b.RECIPE_ID,a]];Object(I.d)(n,o)}},Q=i.a.useCallback((function(e){if(0===((null===e||void 0===e?void 0:e.nguyenLieus)||[]).length)return null;var n=p(Object(O.d)(e));return i.a.createElement("span",{className:"cost-style"},"(".concat(Object(m.f)(n,_),"%)"))}),[T,_]),Z=i.a.useMemo((function(){var e,n=null===h||void 0===h||null===(e=h[V])||void 0===e?void 0:e.name,t=Object(m.a)(_||0);return"Ch\u1ecdn ".concat(n," - ").concat(t)}),[h,V,_]);return J?i.a.createElement(l.a,{visible:J,onCancel:function(){return n.push("?")},footer:null,centered:!0,mask:!1,transitionName:"none",maskTransitionName:"none",className:"selectRecipeModal",style:{}},i.a.createElement("div",{className:"font-weight-bold text-center"},Z),i.a.createElement("div",{className:"text-success text-center mb-3"},i.a.createElement("strong",null,z)),i.a.createElement("button",{className:"btn btn-sm btn-success btn-block mb-2",onClick:q},"Qua m\xf3n ti\u1ebfp theo"),i.a.createElement(s.a,{id:"selectRecipeModalId",ref:B,showSearch:!0,value:F,placeholder:"Ch\u1ecdn m\xf3n \u0103n",onChange:function(e){return function(e){if(e){q();var n=function(){var e=(null===t||void 0===t?void 0:t.recipeId)||"";Object(m.n)("updated ".concat(e," success!"),"bottomRight")},t={recipeId:e,kindId:V},a=[R,P,M,"shiftIds",w,"thucDons",L,"kindIds",V];p(Object(y.f)(a,t,n,{}));var o=null===S||void 0===S?void 0:S[w+""];if(o){var c=[R,P,M,"shiftIds",o,"thucDons",L,"kindIds",V];p(Object(y.f)(c,t,n,{}))}}}(e)},optionFilterProp:"children",filterOption:function(e,n){var t=Object(m.p)(n.value),a=Object(m.p)(e);return t.indexOf(a)>=0},className:["selectVendor",u.join(" ")].join(" "),autoFocus:!0,style:r},(K||[]).map((function(e){return i.a.createElement(s.a.Option,{key:e.id,value:e.id},e.name," ",Q(e))})))):null};T.defaultProps={onSelect:d.noop,classNames:[],style:{}};n.default=Object(u.o)(T)},806:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return o}));var a={ID:"id",MODAL_ID:"modalId",CUSTOMER_GROUP_ID:"customerGroupId",COSO_ID:"coSoId",NHANVIEN_ID:"nhanvienId",VIEW_STATUS:"pagestatus",ADD_NHANVIEN:"addNhanVien",BAO_CAO_KIND:"baoCaoKind",REPORT_ID:"reportId",OPEN_MODAL:"openModal",CANTIN_ID:"cantinId",CUSTOMER_ID:"customerId",VIEW_KIND_ID:"viewKindId",RECIPE_ID:"recipeId",IS_MON_PHU:"isMonPhu",INGRE_ID:"ingreID",VENDOR_ID:"nhaCungCapId",KIND_ID:"kindId",DAY:"day",DAY_ID:"dayId",SHIFT:"shift",SHIFT_ID:"shiftId",BOPHAN_ID:"boPhanId",WEEK_ID:"weekId",MONTH_ID:"monthId",YEAR_ID:"yearId",KETOAN_DRAWER_ID:"keToanDrawerId",KHUVUC_ID:"khuVucId",LOAITAISAN_ID:"loaiTaiSanId",TAISAN_ID:"taiSanId"},o={editNhanvien:{id:"editNhanvien",name:"C\u1eadp nh\u1eadt Nh\xe2n Vi\xean"},addNhanvien:{id:"addNhanvien",name:"Th\xeam Nh\xe2n Vi\xean"},viewNhanvien:{id:"viewNhanvien",name:"Xem Nh\xe2n Vi\xean"},themBaoCao:{id:"themBaoCao",name:"Th\xeam b\xe1o c\xe1o"},addRecipe:{id:"addRecipe",name:"Th\xeam m\xf3n",getTitle:function(){return"Th\xeam M\xf3n M\u1edbi"}},editRecipe:{id:"editRecipe",name:"C\u1eadp nh\u1eadt m\xf3n",getTitle:function(e){return"Update ".concat(String(e).toUpperCase())}},addIngre:{id:"addIngre",name:"Th\xeam Nguy\xean Li\u1ec7u",getTitle:function(e){return"Update ".concat(String(e).toUpperCase())}},editIngre:{id:"editIngre",name:"Update Nguy\xean Li\u1ec7u",getTitle:function(e){return"Update ".concat(String(e).toUpperCase())}},vendorModal:{id:"vendorModal",name:"Nh\xe0 Cung C\u1ea5p"},selectRecipe:{id:"selectRecipe",name:"Ch\u1ecdn",getTitle:function(e){return"Ch\u1ecdn ".concat(e)}},configCantin:{id:"configCantin",name:"Th\xf4ng tin c\u0103n tin"},addChiPhiPhatSinh:{id:"addChiPhiPhatSinh",name:"Chi Ph\xed Ph\xe1t Sinh"},openDutrus:{id:"openDutrus",name:"M\u1edf D\u1ef1 Tr\xf9"},addSoPhanAn:{id:"addSoPhanAn",name:"Th\xeam S\u1ed1 Ph\u1ea7n \u0102n"},addExtraSoPhanAn:{id:"addExtraSoPhanAn",name:"Th\xeam S\u1ed1 Ph\u1ea7n \u0102n"},addCommentByRecipe:{id:"addCommentByRecipe",name:"Th\xeam Ghi Ch\xfa Cho B\u1ebfp"},addCommentByShift:{id:"addCommentByShift",name:"Th\xeam Ghi Ch\xfa Cho T\u1eebng Ca"},openChiPhiCoDinhModal:{id:"openChiPhiCoDinhModal",name:"Chi Ph\xed C\u1ed1 \u0110\u1ecbnh"},addNgayCong:{id:"addNgayCong",name:"Th\xeam ng\xe0y c\xf4ng"},tongHopLuong:{id:"tongHopLuong",name:"T\u1ed5ng h\u1ee3p l\u01b0\u01a1ng"},confirmSave:{id:"confirmSave",name:"X\xe1c nh\u1eadn l\u01b0u"},addNhanVienTangCa:{id:"addNhanVienTangCa",name:"Th\xeam Nh\xe2n Vi\xean T\u0103ng Ca"},viewChiTietChamCong:{id:"viewChiTietChamCong",name:"Xem Chi Ti\u1ebft Ch\u1ea5m C\xf4ng"}}},822:function(e,n,t){"use strict";var a=t(6),o=t(10),c=t(0),r=t(292),i=t(307),u=t(823);function l(e){return!(!e||!e.then)}n.a=function(e){var n=c.useRef(!1),t=c.useRef(),s=Object(u.a)(),d=c.useState(!1),f=Object(o.a)(d,2),m=f[0],p=f[1];c.useEffect((function(){var n;if(e.autoFocus){var a=t.current;n=setTimeout((function(){return a.focus()}))}return function(){n&&clearTimeout(n)}}),[]);var b=e.type,h=e.children,C=e.prefixCls,v=e.buttonProps;return c.createElement(r.a,Object(a.a)({},Object(i.a)(b),{onClick:function(t){var a=e.actionFn,o=e.close;if(!n.current)if(n.current=!0,a){var c;if(e.emitEvent){if(c=a(t),e.quitOnNullishReturnValue&&!l(c))return n.current=!1,void o(t)}else if(a.length)c=a(o),n.current=!1;else if(!(c=a()))return void o();!function(t){var a=e.close;l(t)&&(p(!0),t.then((function(){s()||p(!1),a.apply(void 0,arguments),n.current=!1}),(function(e){console.error(e),s()||p(!1),n.current=!1})))}(c)}else o()},loading:m,prefixCls:C},v,{ref:t}),h)}},823:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var a=t(0);function o(){var e=a.useRef(!0);return a.useEffect((function(){return function(){e.current=!1}}),[]),function(){return!e.current}}}}]);